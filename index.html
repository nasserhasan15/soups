<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Gastronomic Architecture of Global Soups</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
    
// Import the functions you need from the SDKs you need

import { initializeApp } from "firebase/app";

import { getAnalytics } from "firebase/analytics";

// TODO: Add SDKs for Firebase products that you want to use

// https://firebase.google.com/docs/web/setup#available-libraries


// Your web app's Firebase configuration

// For Firebase JS SDK v7.20.0 and later, measurementId is optional

const firebaseConfig = {

  apiKey: "AIzaSyC905qDWIBvB07kWY76zFq_fKr333-SWiQ",

  authDomain: "soup-seasons.firebaseapp.com",

  projectId: "soup-seasons",

  storageBucket: "soup-seasons.firebasestorage.app",

  messagingSenderId: "741540422220",

  appId: "1:741540422220:web:d3d299ffb69ce9766acae9",

  measurementId: "G-TVQN0N3B4W"

};


// Initialize Firebase

const app = initializeApp(firebaseConfig);

const analytics = getAnalytics(app);
        // Listen for real-time updates from the database
        onSnapshot(doc(db, RECIPES_COLLECTION, DOC_ID), (snapshot) => {
            if (snapshot.exists()) {
                const data = snapshot.data();
                Object.keys(data).forEach(soupName => {
                    const cards = document.querySelectorAll('.soup-card');
                    cards.forEach(card => {
                        if (card.querySelector('strong').innerText === soupName) {
                            card.dataset.link = data[soupName];
                            card.classList.add('has-link');
                        }
                    });
                });
            }
        });

        // Global function for clicking
        window.handleSoupClick = async function(element) {
            const soupName = element.querySelector('strong').innerText;
            const existingLink = element.dataset.link;

            if (existingLink) {
                const choice = confirm(`Recipe for ${soupName} found!\n\nOK: Open Recipe\nCancel: Edit/Delete Link`);
                if (choice) {
                    window.open(existingLink, '_blank');
                    return;
                }
            }

            const newUrl = prompt(`Enter recipe URL for "${soupName}":`, existingLink || "");
            
            if (newUrl !== null) {
                const updates = {};
                if (newUrl.trim() === "") {
                    // To delete, we effectively set it to null (or we could use deleteField())
                    updates[soupName] = null;
                    element.classList.remove('has-link');
                    delete element.dataset.link;
                } else {
                    try {
                        new URL(newUrl); // Validate URL
                        updates[soupName] = newUrl;
                    } catch (_) {
                        alert("Invalid URL. Please include http:// or https://");
                        return;
                    }
                }
                
                // Save to Firestore
                try {
                    await setDoc(doc(db, RECIPES_COLLECTION, DOC_ID), updates, { merge: true });
                } catch (e) {
                    console.error("Error saving to database: ", e);
                    alert("Database Error: Make sure you set your Security Rules to 'test mode'.");
                }
            }
        };
    </script>

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8f9fa; color: #1a1a1a; scroll-behavior: smooth; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        .page-break { page-break-after: always; }
        .soup-card { transition: all 0.2s ease; border-left: 4px solid transparent; cursor: pointer; position: relative; }
        .soup-card:hover { transform: translateX(5px); filter: brightness(0.95); }
        .soup-card.has-link { border-right: 8px solid #3b82f6; }
        .spring { border-left-color: #4ade80; background: #f0fdf4; }
        .summer { border-left-color: #fbbf24; background: #fffbeb; }
        .autumn { border-left-color: #f97316; background: #fff7ed; }
        .winter { border-left-color: #3b82f6; background: #eff6ff; }
        .page { width: 210mm; min-height: 297mm; padding: 20mm; margin: 2rem auto; background: white; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
        @media print { @page { size: portrait; margin: 0; } .no-print { display: none; } body { background: white; padding: 0; } .page { border: none !important; box-shadow: none !important; margin: 0 !important; width: 100% !important; } }
    </style>
</head>
<body class="p-0">

    <!-- PAGE 1: SOUPS -->
    <div class="page">
        <header class="text-center mb-10 border-b-2 border-black pb-6">
            <h1 class="text-6xl font-extrabold uppercase tracking-tighter mb-2 italic">Seasons of Soups</h1>
        </header>

        <div class="grid grid-cols-1 gap-12">
            <div class="grid grid-cols-2 gap-8">
                <!-- SPRING -->
                <section>
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-2">ğŸŒ±</span>
                        <h2 class="text-2xl font-bold text-green-700">Spring</h2>
                    </div>
                    <div class="grid grid-cols-1 gap-2">
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡ºğŸ‡³ UN <strong>Minestrone Primavera</strong> (Favas, Artichoke)
                            <div class="text-gray-500 italic line-clamp-1">Light chunky vegetable harvest broth.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡¬ğŸ‡· GRC <strong>Avgolemono</strong> (Lemon, Fresh Egg)
                            <div class="text-gray-500 italic line-clamp-1">Silky, tangy tempered egg-chicken broth.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡µğŸ‡ª PER <strong>Chupe de Camarones</strong> (Spot Prawns)
                            <div class="text-gray-500 italic line-clamp-1">Rich milky shrimp chowder with chili.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡®ğŸ‡³ IND <strong>Palak Dal</strong> (Young Garlic, Spinach)
                            <div class="text-gray-500 italic line-clamp-1">Earthy tempered lentil and greens stew.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡«ğŸ‡· FRA <strong>Vichyssoise</strong> (Spring Leek)
                            <div class="text-gray-500 italic line-clamp-1">Chilled, velvety potato-leek cream.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡«ğŸ‡· FRA <strong>Cream of Asparagus</strong>
                            <div class="text-gray-500 italic line-clamp-1">Vibrant green chlorophyll-focused puree.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡²ğŸ‡ª MNE <strong>Shorbet Adas</strong>
                            <div class="text-gray-500 italic line-clamp-1">Smooth, cumin-scented golden lentil puree.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡»ğŸ‡³ VNM <strong>Beef Pho</strong> (Fresh Herbs)
                            <div class="text-gray-500 italic line-clamp-1">Aromatic charred ginger and spice infusion.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡¯ğŸ‡µ JPN <strong>Miso Soup</strong> (Radishes)
                            <div class="text-gray-500 italic line-clamp-1">Quick umami-rich fermented soybean dashi.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card spring p-2 text-[10px]">
                            ğŸ‡¹ğŸ‡­ THA <strong>Tom Yum</strong> (Spring Heat)
                            <div class="text-gray-500 italic line-clamp-1">Clear lemongrass and kaffir lime infusion.</div>
                        </div>
                    </div>
                </section>

                <!-- SUMMER -->
                <section>
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-2">â˜€ï¸</span>
                        <h2 class="text-2xl font-bold text-yellow-600">Summer</h2>
                    </div>
                    <div class="grid grid-cols-1 gap-2">
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡ªğŸ‡¸ ESP <strong>Gazpacho</strong> (Heirloom Tomatoes)
                            <div class="text-gray-500 italic line-clamp-1">Cold raw vegetable and olive oil emulsion.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡²ğŸ‡½ MEX <strong>Corn Chowder</strong> (Sweet Corn)
                            <div class="text-gray-500 italic line-clamp-1">Starchy, sweet, and smoky summer puree.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡²ğŸ‡½ MEX <strong>Tortilla Soup</strong> (Peppers)
                            <div class="text-gray-500 italic line-clamp-1">Tomato-pasilla broth with textural toppings.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡®ğŸ‡¹ ITA <strong>Pappa al Pomodoro</strong>
                            <div class="text-gray-500 italic line-clamp-1">Rustic, thick tomato and bread porridge.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¸ USA <strong>King Salmon Chowder</strong>
                            <div class="text-gray-500 italic line-clamp-1">Creamy Pacific seafood and dill stew.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡¹ğŸ‡­ THA <strong>Tom Kha Gai</strong> (Coconut)
                            <div class="text-gray-500 italic line-clamp-1">Galangal-infused creamy coconut chicken broth.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡ªğŸ‡¨ ECU <strong>Locro de Papa</strong> (Potatoes)
                            <div class="text-gray-500 italic line-clamp-1">Andean potato and cheese stew with avocado.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡®ğŸ‡· IRN <strong>Ash-e Anar</strong> (Pomegranate)
                            <div class="text-gray-500 italic line-clamp-1">Tart split-pea soup with massive herb volume.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡¨ğŸ‡³ CHN <strong>Hot & Sour Soup</strong>
                            <div class="text-gray-500 italic line-clamp-1">Vinegary, peppery cornstarch-thickened classic.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card summer p-2 text-[10px]">
                            ğŸ‡ªğŸ‡¸ ESP <strong>Sopa de Ajo</strong> (Garlic Broth)
                            <div class="text-gray-500 italic line-clamp-1">Smoky pimentÃ³n and bread soup with egg.</div>
                        </div>
                    </div>
                </section>
            </div>

            <div class="grid grid-cols-2 gap-8">
                <!-- AUTUMN -->
                <section>
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-2">ğŸ‚</span>
                        <h2 class="text-2xl font-bold text-orange-600">Autumn</h2>
                    </div>
                    <div class="grid grid-cols-1 gap-2">
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡­ğŸ‡¹ HTI <strong>Soupe Joumou</strong> (Pumpkin)
                            <div class="text-gray-500 italic line-clamp-1">Hearty, celebratory squash and beef stew.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡¸ğŸ‡³ SEN <strong>Maafe</strong> (Peanut)
                            <div class="text-gray-500 italic line-clamp-1">Creamy, nutty West African groundnut reduction.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡­ğŸ‡º HUN <strong>Hungarian Goulash</strong>
                            <div class="text-gray-500 italic line-clamp-1">Slow-braised beef and sweet pepper reduction.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡®ğŸ‡³ IND <strong>Mulligatawny</strong> (Apples)
                            <div class="text-gray-500 italic line-clamp-1">Curried lentil soup with sweet-tart contrast.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡²ğŸ‡¦ MAR <strong>Harira</strong> (Legumes)
                            <div class="text-gray-500 italic line-clamp-1">Zesty tomato, lentil, and chickpea fast-breaker.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡¨ğŸ‡´ COL <strong>Ajiaco</strong> (Potato Medley)
                            <div class="text-gray-500 italic line-clamp-1">Colombian chicken stew thickened by potato starch.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¸ USA <strong>Texas Chili</strong>
                            <div class="text-gray-500 italic line-clamp-1">High-viscosity concentrated chili paste braise.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡³ğŸ‡¬ NGA <strong>Banga</strong> (Palm Fruit)
                            <div class="text-gray-500 italic line-clamp-1">Dense, earthy palm nut oil and seafood soup.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡¨ğŸ‡³ CHN <strong>Hulatang</strong> (Spicy)
                            <div class="text-gray-500 italic line-clamp-1">Henan breakfast soup with wheat gluten.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card autumn p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¸ USA <strong>Butternut Squash</strong>
                            <div class="text-gray-500 italic line-clamp-1">Roasted squash puree with autumn spices.</div>
                        </div>
                    </div>
                </section>

                <!-- WINTER -->
                <section>
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-2">â„ï¸</span>
                        <h2 class="text-2xl font-bold text-blue-700">Winter</h2>
                    </div>
                    <div class="grid grid-cols-1 gap-2">
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¸ USA <strong>Cioppino</strong> (Crab)
                            <div class="text-gray-500 italic line-clamp-1">Classic tomato-wine seafood reduction.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡®ğŸ‡¹ ITA <strong>Ribollita</strong> (Kale)
                            <div class="text-gray-500 italic line-clamp-1">"Re-boiled" Tuscan bean, green, and bread stew.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡«ğŸ‡· FRA <strong>French Onion</strong>
                            <div class="text-gray-500 italic line-clamp-1">Caramelized onion test of Maillard mastery.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡©ğŸ‡ª DEU <strong>Kartoffelsuppe</strong>
                            <div class="text-gray-500 italic line-clamp-1">Hearty German potato and sausage puree.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡»ğŸ‡³ VNM <strong>Bun Rieu</strong> (Crab)
                            <div class="text-gray-500 italic line-clamp-1">Tangy seafood noodle soup with egg clouds.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ´ó §ó ¢ó ³ Ú©ÙˆØªØ§Û <strong>Cullen Skink</strong> (Haddock)
                            <div class="text-gray-500 italic line-clamp-1">Potent Scottish smoked fish and potato cream.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¦ UKR <strong>Borscht</strong> (Beets)
                            <div class="text-gray-500 italic line-clamp-1">Earthy, vibrant fermented beet and vegetable broth.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡ºğŸ‡¸ USA <strong>Gumbo</strong> (Roux)
                            <div class="text-gray-500 italic line-clamp-1">Complex Creole thickener masterclass.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡°ğŸ‡· KOR <strong>Sundubu-jjigae</strong> (Tofu)
                            <div class="text-gray-500 italic line-clamp-1">Fiery, anchovy-based soft tofu earthenware stew.</div>
                        </div>
                        <div onclick="handleSoupClick(this)" class="soup-card winter p-2 text-[10px]">
                            ğŸ‡¨ğŸ‡³ CHN <strong>Malatang</strong> (Spice)
                            <div class="text-gray-500 italic line-clamp-1">Sichuan street-style customizable chili broth.</div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div class="page-break"></div>

    <!-- PAGE 2: SOUP ARCHITECTURE -->
    <div class="page">
        <header class="text-center mb-10 border-b-2 border-black pb-6">
            <h1 class="text-5xl font-extrabold uppercase tracking-tighter mb-2">Soup Architecture</h1>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- COLUMN 1: AROMATICS -->
            <div class="space-y-6">
                <h3 class="bg-black text-white p-2 text-center text-sm font-bold uppercase tracking-widest">I. Aromatic Foundations</h3>
                <div class="border p-3">
                    <h4 class="font-bold text-xs underline mb-1">MIREPOIX / SOFFRITTO</h4>
                    <p class="text-[9px] text-gray-500 mb-2">Onion, celery, and carrots sweat slowly in fat.</p>
                </div>
                <div class="border p-3">
                    <h4 class="font-bold text-xs underline mb-1">THE ASIAN TRINITY</h4>
                    <p class="text-[9px] text-gray-500 mb-2">Ginger, garlic, and scallions. Usually charred for sharp oils.</p>
                </div>
                <div class="border p-3">
                    <h4 class="font-bold text-xs underline mb-1">HOLY TRINITY</h4>
                    <p class="text-[9px] text-gray-500 mb-2">Onion, bell pepper, and celery. The Creole backbone.</p>
                </div>
            </div>

            <!-- COLUMN 2 & 3: THICKENING -->
            <div class="md:col-span-2 grid grid-cols-2 gap-4">
                <div class="col-span-2">
                     <h3 class="bg-gray-800 text-white p-2 text-center text-sm font-bold uppercase tracking-widest">II. Thickening Mechanisms</h3>
                </div>
                <div class="p-3 bg-slate-100 rounded">
                    <h4 class="font-bold text-xs mb-1">ğŸ«˜ Legume Purees</h4>
                    <p class="text-[9px] text-gray-600">Blending cooked beans or lentils for an earthy body.</p>
                </div>
                <div class="p-3 bg-slate-100 rounded">
                    <h4 class="font-bold text-xs mb-1">ğŸ¥£ Braise & Reduction</h4>
                    <p class="text-[9px] text-gray-600">Slow evaporation that coats a spoon with collagen.</p>
                </div>
                <div class="p-3 bg-slate-100 rounded col-span-2">
                    <h4 class="font-bold text-xs mb-1">ğŸ¥› Emulsions</h4>
                    <p class="text-[9px] text-gray-600">Binding fats/water via eggs, coconut milk, or blending oil.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>